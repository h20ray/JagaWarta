(()=>{(function(){"use strict";let y=()=>{let x=window.matchMedia("(min-width: 768px)"),r=document.querySelector("[data-share-modal]"),p=document.querySelector("[data-share-modal-scrim]"),l=document.querySelector("[data-share-modal-close]"),M=document.querySelectorAll("[data-share-trigger]"),s=document.querySelector("[data-share-root]"),k=document.querySelectorAll("[data-share-copy]"),d=document.querySelector("[data-share-message]");r&&r.hasAttribute("hidden")&&(r.setAttribute("inert",""),r.style.pointerEvents="none");let u=s&&s.getAttribute("data-share-title")||document.title,q=s&&s.getAttribute("data-share-text")||u,f=s&&s.getAttribute("data-share-url")||window.location.href,z=typeof navigator<"u"&&!!navigator.share&&window.matchMedia("(max-width: 767px)").matches,g=0,C=()=>{r&&(g=Date.now(),r.removeAttribute("inert"),r.removeAttribute("hidden"),r.style.pointerEvents="auto",document.body.style.overflow="hidden",r.classList.add("is-open"),l&&l.focus())},c=()=>{r&&(r.classList.remove("is-open"),r.style.pointerEvents="none",setTimeout(()=>{r.setAttribute("inert",""),r.setAttribute("hidden",""),document.body.style.overflow=""},200))},m=t=>{d&&(d.textContent=t,setTimeout(()=>{d.textContent=""},2e3))};M.forEach(t=>{t.addEventListener("click",async e=>{if(e.preventDefault(),e.stopPropagation(),z)try{await navigator.share({title:u,text:q,url:f});return}catch(o){if(o&&o.name==="AbortError")return}C()})}),p&&p.addEventListener("click",t=>{if(Date.now()-g<250){t.preventDefault();return}c()}),l&&l.addEventListener("click",c),document.addEventListener("keydown",t=>{t.key==="Escape"&&r&&!r.hasAttribute("hidden")&&c()}),k.forEach(t=>{t.addEventListener("click",async e=>{e.preventDefault();let o=t.getAttribute("data-share-copy-url")||f;if(navigator.clipboard&&navigator.clipboard.writeText)try{await navigator.clipboard.writeText(o),m(t.getAttribute("aria-label")||"Link copied"),setTimeout(c,800);return}catch{}let n=document.createElement("input");n.type="text",n.value=o,n.setAttribute("aria-hidden","true"),n.style.position="fixed",n.style.left="-9999px",document.body.appendChild(n),n.select();try{document.execCommand("copy"),m(t.getAttribute("aria-label")||"Link copied"),setTimeout(c,800)}catch{m("Copy not supported in this browser")}finally{document.body.removeChild(n)}})});let a=document.querySelector("[data-font-size-controls]"),i=document.querySelector(".prose-article");if(!a||!i)return;let v=a.querySelector(".jw-font-size-rail"),b=["small","default","large"],w="jw-article-font-size-level",E={small:{size:"var(--md-sys-typescale-body-medium-size)",line:"var(--md-sys-typescale-body-medium-line-height)"},default:{size:"var(--md-sys-typescale-body-large-size)",line:"var(--md-sys-typescale-body-large-line-height)"},large:{size:"calc(var(--md-sys-typescale-body-large-size) * 1.15)",line:"calc(var(--md-sys-typescale-body-large-line-height) * 1.05)"}},T=()=>{try{let t=sessionStorage.getItem(w);if(t&&b.includes(t))return t}catch{}return"default"},S=t=>{if(b.includes(t)){i.setAttribute("data-font-size-level",t),i.style.fontSize=E[t].size,i.style.lineHeight=E[t].line;try{sessionStorage.setItem(w,t)}catch{}a.querySelectorAll("[data-font-size-level]").forEach(e=>{let o=e.getAttribute("data-font-size-level");e.setAttribute("aria-pressed",o===t?"true":"false")})}};a.querySelectorAll("[data-font-size-level]").forEach(t=>{t.addEventListener("click",e=>{e.preventDefault();let o=t.getAttribute("data-font-size-level");o&&S(o)})});let A=a.querySelector('[data-scroll-action="up"]'),B=a.querySelector('[data-scroll-action="down"]'),h=i.querySelectorAll("p, h2, h3, ul, ol, blockquote, figure, .wp-block-image"),D=h[0]||i,j=h[h.length-1]||i,L=()=>{let t=document.getElementById("site-header"),e=document.getElementById("wpadminbar"),o=t?Math.round(t.getBoundingClientRect().bottom):0,n=e?Math.round(e.getBoundingClientRect().bottom):0;return Math.max(o,n)+16};A&&A.addEventListener("click",t=>{t.preventDefault();let e=L(),o=Math.max(0,Math.round(D.getBoundingClientRect().top+window.scrollY-e));window.scrollTo({top:o,behavior:"smooth"})}),B&&B.addEventListener("click",t=>{t.preventDefault();let e=L(),o=i.getBoundingClientRect(),n=Math.max(0,Math.round(o.bottom+window.scrollY-(window.innerHeight-e)+16));window.scrollTo({top:n,behavior:"smooth"})});let R=()=>{if(!x.matches){a.style.removeProperty("--jw-reading-toolbar-top"),a.style.removeProperty("--jw-reading-toolbar-height");return}let t=document.getElementById("site-header"),e=document.getElementById("wpadminbar"),o=t?Math.round(t.getBoundingClientRect().bottom):72,n=e?Math.round(e.getBoundingClientRect().bottom):0,O=Math.max(o,n)+16;a.style.setProperty("--jw-reading-toolbar-top",`${O}px`),v&&a.style.setProperty("--jw-reading-toolbar-height",`${Math.ceil(v.offsetHeight)}px`)};S(T()),R()};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",y,{once:!0}):y()})();})();
