(()=>{(function(){"use strict";let r="jw-dark-mode",s="data-theme",i="light",o="dark";function m(){let t=localStorage.getItem(r);return t===i||t===o?t:window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?o:i}function d(t){document.documentElement.setAttribute(s,t)}function l(t){try{localStorage.setItem(r,t)}catch{}}function u(){let e=document.documentElement.getAttribute(s)===o?i:o;d(e),l(e),a(e),document.dispatchEvent(new CustomEvent("themechange",{detail:{theme:e}}))}function a(t){let e=document.getElementById("dark-mode-toggle");if(!e)return;let c=e.querySelector(".icon-sun"),n=e.querySelector(".icon-moon");t===o?(e.setAttribute("aria-label","Switch to light mode"),c&&(c.style.display="block"),n&&(n.style.display="none")):(e.setAttribute("aria-label","Switch to dark mode"),c&&(c.style.display="none"),n&&(n.style.display="block"))}function h(){let t=m();d(t),a(t),document.addEventListener("DOMContentLoaded",function(){let e=document.getElementById("dark-mode-toggle");e&&e.addEventListener("click",u)}),window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",function(c){if(!localStorage.getItem(r)){let n=c.matches?o:i;d(n),a(n)}})}h()})();})();
